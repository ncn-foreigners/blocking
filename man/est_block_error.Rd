% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/est_block_error.R
\name{est_block_error}
\alias{est_block_error}
\title{Estimate errors due to blocking in record linkage}
\usage{
est_block_error(
  x = NULL,
  y = NULL,
  blocking_result = NULL,
  n = NULL,
  N = NULL,
  G,
  alpha = NULL,
  p = NULL,
  lambda = NULL,
  tol = 10^(-6),
  maxiter = 1000,
  sample_size = NULL
)
}
\arguments{
\item{x}{Reference data (required if \code{n} is not provided).}

\item{y}{Query data (required if \code{n} is not provided).}

\item{blocking_result}{Data.frame or data.table containing blocking results (required if \code{n} is not provided).}

\item{n}{Integer vector of numbers of accepted pairs formed by each record in the query data set
with records in the reference data set, based on blocking criteria (if \code{NULL}, derived from \code{blocking_result}).}

\item{N}{Total number of records in the reference data set (if \code{NULL}, derived as \code{length(x)}).}

\item{G}{Number of classes in the finite mixture model.}

\item{alpha}{Numeric vector of initial class proportions (length \code{G}; if \code{NULL}, initialized as \code{rep(1/G, G)}).}

\item{p}{Numeric vector of initial matching probabilities in each class of the mixture model
(length \code{G}; if \code{NULL}, randomly initialized from \code{runif(G, 0.5, 1)}).}

\item{lambda}{Numeric vector of initial Poisson distribution parameters for non-matching records in each class of the mixture model
(length \code{G}; if \code{NULL}, randomly initialized from \code{runif(G, 0.1, 2)}).}

\item{tol}{Convergence tolerance for the EM algorithm (default \code{10^(-6)}).}

\item{maxiter}{Maximum number of iterations for the EM algorithm (default \code{1000}).}

\item{sample_size}{Bootstrap sample (from \code{n}) size used for calculations (if \code{NULL}, uses all data).}
}
\value{
Returns a list containing:\cr
\itemize{
\item{\code{FPR} -- false positive rate,}
\item{\code{FNR} -- false negative rate,}
\item{\code{iter} -- number of the EM algorithm iterations performed,}
\item{\code{convergent} -- logical, indicating whether the EM algorithm converged within \code{maxiter} iterations.}
}
}
\description{
Function computes estimators for false positive rate (FPR) and false negative rate (FNR) due to blocking in record linkage,
as proposed by Dasylva and Goussanou (2021). Assumes duplicate-free data sources,
complete coverage of the reference data set and blocking decisions based solely on record pairs.
}
\examples{
## an example proposed by Dasylva and Goussanou (2021)

set.seed(111)

neighbors <- rep(0:5, c(1659, 53951, 6875, 603, 62, 5))

errors <- est_block_error(n = neighbors,
                          N = 63155,
                          G = 2,
                          tol = 10^(-3),
                          maxiter = 50)

errors

}
\references{
Dasylva, A., Goussanou, A. (2021). Estimating the false negatives due to blocking in record linkage.
Survey Methodology, Statistics Canada, Catalogue No. 12-001-X, Vol. 47, No. 2.

Dasylva, A., Goussanou, A. (2022). On the consistent estimation of linkage errors without training data.
Jpn J Stat Data Sci 5, 181â€“216. \url{https://doi.org/10.1007/s42081-022-00153-3}
}
